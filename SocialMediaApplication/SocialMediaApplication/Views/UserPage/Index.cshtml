@{
    ViewData["Title"] = "User Page";
}


<script type="module">
    import { initializeApp } from "https://www.gstatic.com/firebasejs/9.1.0/firebase-app.js";
    import { getAuth, signOut, onAuthStateChanged } from "https://www.gstatic.com/firebasejs/9.1.0/firebase-auth.js";
    // Initialize Firebase
    const firebaseConfig = {
        apiKey: "your-api-key",
        authDomain: "your-auth-domain",
        projectId: "your-project-id",
        storageBucket: "your-storage-bucket",
        messagingSenderId: "your-messaging-sender-id",
        appId: "your-app-id"
    };

    // Initialize Firebase
    const app = initializeApp(firebaseConfig);
    const auth = getAuth();

    // Monitor authentication state
    //auth.onAuthStateChanged((user) => {
    //if (user && window.location.pathname === '/Home/Login') {
    // User is signed in and on the index page, redirect to UserPage
    //window.location.href = '/Home/UserPage';
    //} else if (!user && window.location.pathname !== '/Home/UserPage') {
    // No user is signed in, redirect to the index page if not already there
    //window.location.href = '/Home/Index';
    //}
    //});

    // Function to handle logout
    const logoutButton = document.getElementById('logoutButton')
    logoutButton.addEventListener('click', () => {
        signOut(auth)
            .then(() => {
                console.log('the user signed out');
                window.location.href = "/Home/Index";
            })
            .catch((err) => {
                console.log(err.message)
            });
    });
</script>

<div class="row">
    <div class="col-lg-3 col-md-4">
        <div class="card px-2 py-3">
            <img src="https://mdbcdn.b-cdn.net/img/new/standard/city/062.webp" class="card-img-top p-2"
                alt="Chicago Skyscrapers" style="border-radius:50%;" />
            <div class="card-body">
                <h5 class="card-title text-center">User Name</h5>
                <p class="card-text">Descriptions.This is the place to add the descriptions</p>
            </div>

            <!-- These two links bellow is showm for the owner-->
            <div class="card-body d-flex justify-content-center">
                <!-- This link is to follow the owener of this homepage -->
                <a asp-action="Follow" class="btn btn-primary w-100 col-lg-12" style="border-radius:10px;">Edit My
                    Profile</a>
            </div>

            <!-- These two links bellow is showm for others users except owner-->
            <div class="card-body d-flex justify-content-center">

                <!-- This link is to follow the owener of this homepage -->
                <a asp-action="Follow" class="btn btn-info w-100" style="border-radius:10px;">Follow Me</a>
            </div>
            <div class="card-body d-flex justify-content-center">
                <!-- This link is to canel your follow to owener of this page-->
                <a asp-action="CancelFollow" class="btn btn-outline-danger w-100" style="border-radius:10px;">Follow
                    Cancel</a>
            </div>
            <div class="col-md-12 d-flex justify-content-center mt-3">
                <button id="logoutButton" class="btn btn-danger w-100" style="border-radius:10px;">Log Out</button>
            </div>


            <div class="card-body row d-flex justify-content-center">
                <!-- This link links to Follow Page, to see all the follows of this user-->
                <a href="/FollowsList" class="col-lg-5 m-1 w-45 text-center"
                    style="text-decoration-line:none">Follows</a>
                <!-- This link links to Follower Page ,to see all the followers of this user-->
                <a href="/FollowersList" class="col-lg-5 m-1 w-45 text-center"
                    style="text-decoration-line:none">Followers</a>
            </div>
        </div>
    </div>




    <div class="col-md-8">

        <!-- this is a list sample of creating user's' post -->
        <div class="card card-body">

            <div class="row px-2">
                <div class="col-md-12 ">
                    <h5 style="color:#5897F5">Create new Post</h5>
                    <hr />
                </div>

                <form action="/" method="post">
                    <div class="row d-flex justify-content-between align-items-center py-2">

                        <div class="col-md-2 justify-content-center">
                            <img src="images/icon-logo.png" alt="Alternate Text" style="width:30px;" />
                        </div>
                        <div class="col-md-8">
                            <input class="form-control border rounded-pill" type="type" name="Comment"
                                value="Comment content" />
                        </div>
                        <div class="col-md-2">
                            <button class=" btn btn-primary w-100 rounded-pill" type="submit">Post</button>
                        </div>
                    </div>
                </form>
            </div>
        </div>


        <!-- this is a list sample of all the postd -->
        <div class="card w-100 p-4 my-2">
            <!-- This is the title of the list-->
            <div class="col-md-12">
                <h5 style="color:#5897F5">Newest Posts</h5>
                <hr />
            </div>
            <!-- this is the card for one post-->
            <div class="card text-center mt-2">
                <div class="card-header d-flex justify-content-between align-items-center py-2" style="height:70px;">
                    <div>
                        <img src="images/icon-logo.png" alt="Alternate Text" style="width:50px;" />
                        UserName
                    </div>
                    <div class="d-flex justify-content-center align-items-center">
                        <a asp-action="Follow" class="btn btn-outline-info">Follow +</a>
                    </div>
                </div>
                <div class="card-body">
                    <!-- this is the content of the post-->
                    <h5 class="card-title">Special title treatment</h5>
                    < <p class="card-text">With supporting text below as a natural lead-in to additional content.</p>
                        <a href="#" class="btn btn-info">Go somewhere</a>
                </div>
                <div class="bg-white border border-top-2 py-2">
                    <!-- this is the button to Like this post-->
                    <a asp-action="Like"> <img src="images/heart.svg" alt="Alternate Text"
                            style="width:20px;text-decoration-line:none;" />Like</a>

                    <!-- this is the button to Unlike this post-->
                    <a asp-action="Dislike"><img src="images/heart-outline.svg" alt="Alternate Text"
                            style="width:20px;text-decoration-line:none;" />Unlike</a>

                    <!-- this is the button to edit this post-->
                    <a asp-action="Like"> <img src="images/edit.svg" alt="Alternate Text"
                            style="width:20px;text-decoration-line:none;" />Edit</a>

                    <!-- this is the button to comments page-->
                    <p class="d-inline-flex gap-1">
                        <button class="btn btn-primary" type="button" data-bs-toggle="collapse"
                            data-bs-target="#collapseComment1" aria-expanded="false" aria-controls="collapseComment1">
                            Comments
                        </button>
                        </a>
                    </p>
                    <!-- this is the component to show comments and add &edit selves cpmments -->
                    <div class="collapse mt-2" id="collapseComment1">
                        <!-- this is the component to add comment-->
                        <div class="card card-body">
                            <div class="text-center row px-2">
                                <form action="/" method="post">
                                    <div class="row d-flex justify-content-between align-items-center py-2">
                                        <div class="col-md-2 justify-content-center">
                                            <img src="images/icon-logo.png" alt="Alternate Text" style="width:30px;" />
                                        </div>
                                        <div class="col-md-10">
                                            <input class="form-control border rounded-pill" type="type" name="Comment"
                                                value="Comment content" />
                                        </div>
                                    </div>
                                    <div class="row d-flex justify-content-end px-2">
                                        <button class="col-md-2 btn btn-primary w-90 rounded-pill"
                                            type="submit">Post</button>
                                    </div>
                                </form>
                            </div>


                            <!-- this is the button to Like this comment-->
                            <div class="mt-2">
                                <div class="row p-1 d-flex justify-content-between">
                                    <div class="col-md-2">
                                        <img src="images/icon-logo.png" alt="Alternate Text" style="width:50px;" />
                                    </div>
                                    <div class="col-md-10">
                                        <div class="row py-2 border border-bottom-1 rounded-top-2">
                                            <div class="col-md-4  text-start">
                                                UserName
                                            </div>
                                            <div class="col-md-4  text-start">
                                                TimeStamp
                                            </div>
                                            <div class="col-md-2">
                                                <!-- this is the button to Like this comment-->
                                                <a asp-action="Like"> <img src="images/heart.svg" alt="Alternate Text"
                                                        style="width:20px;text-decoration-line:none;" /></a>

                                                <!-- this is the button to Unlike this comment-->
                                                <a asp-action="Dislike"><img src="images/heart-outline.svg"
                                                        alt="Alternate Text"
                                                        style="width:20px;text-decoration-line:none;" /></a>
                                            </div>
                                            <div class="col-md-1">

                                                <!-- this is the button to Edit user's' own comment-->
                                                <a asp-action="Like"> <img src="images/edit.svg" alt="Alternate Text"
                                                        style="width:20px;text-decoration-line:none;" /></a>
                                            </div>
                                            <div class="col-md-1">
                                                <!-- this is the button to Delete user's' own comment-->
                                                <a type="button" class="btn-close"></a>
                                            </div>
                                        </div>
                                        <div class="row py-2 text-start border border-1 rounded-bottom-2">
                                            <p>This is the comments content sample</p>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <!-- end of  the card for one post -->

            <!-- this is the card for one post-->
            <div class="card text-center mt-2">
                <div class="card-header d-flex justify-content-between align-items-center py-2" style="height:70px;">
                    <div>
                        <img src="images/icon-logo.png" alt="Alternate Text" style="width:50px;" />
                        UserName
                    </div>
                    <div class="d-flex justify-content-center align-items-center">
                        <a asp-action="Follow" class="btn btn-outline-info">Follow +</a>
                    </div>
                </div>
                <div class="card-body">
                    <!-- this is the content of the post-->
                    <h5 class="card-title">Special title treatment</h5>
                    < <p class="card-text">With supporting text below as a natural lead-in to additional content.</p>
                        <a href="#" class="btn btn-info">Go somewhere</a>
                </div>
                <div class="bg-white border border-top-2 py-2">
                    <!-- this is the button to Like this post-->
                    <a asp-action="Like"> <img src="images/heart.svg" alt="Alternate Text"
                            style="width:20px;text-decoration-line:none;" />Like</a>

                    <!-- this is the button to Unlike this post-->
                    <a asp-action="Dislike"><img src="images/heart-outline.svg" alt="Alternate Text"
                            style="width:20px;text-decoration-line:none;" />Unlike</a>

                    <!-- this is the button to edit this post-->
                    <a asp-action="Like"> <img src="images/edit.svg" alt="Alternate Text"
                            style="width:20px;text-decoration-line:none;" />Edit</a>

                    <!-- this is the button to comments page-->
                    <a class="d-inline-flex focus-ring py-1 px-2 text-decoration-none border rounded-2"
                        data-bs-toggle="collapse" href="#collapseComment2" role="button" aria-expanded="false"
                        aria-controls="collapseComment2">
                        Comments
                    </a>
                    <!-- this is the component to show comments and add &edit selves cpmments -->
                    <div class="collapse mt-2" id="collapseComment2">
                        <!-- this is the component to add comment-->
                        <div class="text-center row px-2">
                            <form action="/" method="post">
                                <div class="row d-flex justify-content-between align-items-center py-2">
                                    <div class="col-md-2 justify-content-center">
                                        <img src="images/icon-logo.png" alt="Alternate Text" style="width:30px;" />
                                    </div>
                                    <div class="col-md-10">
                                        <input class="form-control border rounded-pill" type="type" name="Comment"
                                            value="Comment content" />
                                    </div>
                                </div>
                                <div class="row d-flex justify-content-end px-2">
                                    <button class="col-md-2 btn btn-primary w-90 rounded-pill"
                                        type="submit">Post</button>
                                </div>
                            </form>

                        </div>

                        <!-- this is the button to Like this comment-->
                        <div class="card mt-2">
                            <div class="card-body">
                                <div class="row p-1 d-flex justify-content-between">
                                    <div class="col-md-2">
                                        <img src="images/icon-logo.png" alt="Alternate Text" style="width:50px;" />
                                    </div>
                                    <div class="card col-md-10">
                                        <div class="row py-2 border border-bottom-1">
                                            <div class="col-md-4  text-start">
                                                UserName
                                            </div>
                                            <div class="col-md-4  text-start">
                                                TimeStamp
                                            </div>
                                            <div class="col-md-2">
                                                <!-- this is the button to Like this comment-->
                                                <a asp-action="Like"> <img src="images/heart.svg" alt="Alternate Text"
                                                        style="width:20px;text-decoration-line:none;" /></a>

                                                <!-- this is the button to Unlike this comment-->
                                                <a asp-action="Dislike"><img src="images/heart-outline.svg"
                                                        alt="Alternate Text"
                                                        style="width:20px;text-decoration-line:none;" /></a>
                                            </div>
                                            <div class="col-md-1">

                                                <!-- this is the button to Edit user's' own comment-->
                                                <a asp-action="Like"> <img src="images/edit.svg" alt="Alternate Text"
                                                        style="width:20px;text-decoration-line:none;" /></a>
                                            </div>
                                            <div class="col-md-1">
                                                <!-- this is the button to Delete user's' own comment-->
                                                <a type="button" class="btn-close"></a>
                                            </div>
                                        </div>
                                        <div class="row py-2 text-start">
                                            <p>This is the comments content sample</p>
                                        </div>
                                    </div>
                                </div>
                            </div>

                        </div>
                    </div>

                </div>
            </div>

            <!-- end of  the card for one post -->
            <a class="icon-link icon-link-hover" href="#">
                See More Posts
                <svg class="bi" aria-hidden="true">
                    <use xlink:href="#arrow-right"></use>
                </svg>
            </a>

        </div>
    </div>
</div>
