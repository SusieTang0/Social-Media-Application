@model SocialMediaApplication.Models.Post
@{
    var thisUser = ViewBag.User as SocialMediaApplication.Models.User;
    List<User> users = ViewBag.Users as List<SocialMediaApplication.Models.User>;
    if (users == null)
    {
        users = new List<User>(); // or handle accordingly if ViewBag.Users is null
    }
}
<!-- this is the card for one post-->
<div class="card text-center mt-2">
    <div class="card-header d-flex justify-content-between align-items-center py-2" style="height:70px;">
        <div class="d-flex justify-content-between align-items-center">
            @if (Model.AuthorId != thisUser.UserId)
            {
                <a href="OtherUserPage/{Model.AuthorId}"><img class="p-2" src="Model.AuthorAvatar" alt="Profile Picture" style="width:50px;" /></a>
                <a class="p-2">Model.AuthorName</a>
            }
            else
            {
                <a href="UserPage"><img src="Model.AuthorAvatar" alt="Profile Picture" style="width:50px;" /></a>
                <a class="ps-2" style="text-decoration:none;">Model.AuthorName</a>
            }


        </div>
        <div>
            @Model.CreatedTime.ToString("MM/dd/yyyy HH:mm")
        </div>
        @if (ViewBag.UserId == Model.AuthorId)
        {
            <div class="d-flex justify-content-center align-items-center">
                <a asp-action="Unfollow" asp-route-userId="@Model.AuthorId" class="btn btn-outline-info">Unfollow</a>
            </div>
        }
        else
        {
            <div class="d-flex justify-content-center align-items-center">
                <a asp-action="Follow" asp-route-userId="@Model.AuthorId" class="btn btn-outline-info">Follow +</a>
            </div>
        }
    </div>
    <div class="card-body">
        <!-- this is the content of the post-->
        <p class="card-text text-start">@Model.Content</p>
        <a href="#" class="btn btn-info">Go somewhere</a>
    </div>
    <div class="bg-white border border-top-2 py-2">
        <!-- this is the button to Like this post-->
        <a asp-action="Like" asp-route-postId="@Model.Id">
            <img src="images/heart.svg" alt="Like" style="width:20px;" /> Like
        </a>

        <!-- this is the button to Dislike this post-->
        <a asp-action="Dislike" asp-route-postId="@Model.Id">
            <img src="images/heart-outline.svg" alt="Dislike" style="width:20px;" /> Unlike
        </a>

        <!-- this is the button to edit this post-->
        <a asp-action="Edit" asp-route-postId="@Model.Id">
            <img src="images/edit.svg" alt="Edit" style="width:20px;" /> Edit
        </a>

        <!-- this is the button to show comments -->
        <a class="d-inline-flex focus-ring py-1 px-2 text-decoration-none border rounded-2"
           data-bs-toggle="collapse" href="#collapseComment@Model.Id" role="button" aria-expanded="false"
           aria-controls="collapseComment@Model.Id">
            Comments
        </a>
        <!-- this is the component to show comments and add & edit comments -->
        <div class="collapse mt-2" id="collapseComment@Model.Id">
            @Html.Partial("Components/_CommentSection", Model.Comments)
        </div>
    </div>
</div>
<!-- This is the end of the card for one post -->
    }